# BetterLrcApi

[English](README.md) | [‰∏≠Êñá](README_zh-CN.md) | [Êó•Êú¨Ë™û](README_ja.md) | [ÌïúÍµ≠Ïñ¥](README_ko.md) | [–†—É—Å—Å–∫–∏–π](README_ru.md)

**BetterLrcApi** ‚Äî —ç—Ç–æ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –∏ —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞ [HisAtri/LrcApi](https://github.com/HisAtri/LrcApi). –ú—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ –æ—Å–Ω–æ–≤–Ω—É—é —Ñ–∏–ª–æ—Å–æ—Ñ–∏—é –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–≤ –∫–∞—á–µ—Å—Ç–≤–æ –æ–±–ª–æ–∂–µ–∫ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

–û—Å–æ–±–∞—è –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º—É –∞–≤—Ç–æ—Ä—É [HisAtri](https://github.com/HisAtri) –∑–∞ –≤–∫–ª–∞–¥ –≤ –æ—Ç–∫—Ä—ã—Ç—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥.

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

*   **–û–±–ª–æ–∂–∫–∏ –≤—ã—Å–æ–∫–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (New)**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å **Apple Music (iTunes Search API)** –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –æ–±–ª–æ–∂–µ–∫ –∞–ª—å–±–æ–º–æ–≤ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º –¥–æ **3000x3000**, –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–∞—é—â–∞—è –ø—Ä–æ–±–ª–µ–º—ã —Å —Ä–∞–∑–º—ã—Ç—ã–º–∏ –∏–ª–∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –æ–±–ª–æ–∂–∫–∞–º–∏.
*   **–ú—É–ª—å—Ç–∏-–∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤**:
    *   **Netease**: –ò—Å—Ç–æ—á–Ω–∏–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Cookie –¥–ª—è –æ–±–ª–∞—á–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è).
    *   **Kugou**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–≤–æ–π–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ü–ö/–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è).
    *   **QQ Music**: **–ù–æ–≤—ã–π** —Ç—Ä–µ—Ç–∏—á–Ω—ã–π —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç Cookie, –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å.
*   **–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –ú–∏–≥—Ä–∞—Ü–∏—è —Å Flask –Ω–∞ **FastAPI**, –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ (Async/Await) –¥–ª—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –æ—Ç–∫–ª–∏–∫–∞.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

> –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: `linux/amd64`, `linux/arm64`

```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞
docker pull steelydk/betterlrcapi:latest

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–ë–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
docker run -d \
  -p 8080:8080 \
  --name betterlrcapi \
  steelydk/betterlrcapi:latest
  
# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–° –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker run -d \
  -p 8080:8080 \
  --name betterlrcapi \
  -e API_AUTH="your_secret_key" \
  steelydk/betterlrcapi:latest
```

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

#### 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è API (API_AUTH)
–ß—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ API, –≤—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `API_AUTH`.
*   –î–æ–±–∞–≤—å—Ç–µ `-e API_AUTH=your_secret_key` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ.
*   –î–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: your_secret_key` –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

#### 2. Netease Cookie (NETEASE_COOKIE)
**–ï—Å–ª–∏ –≤—ã —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç–µ—Å—å —Å –æ—à–∏–±–∫–∞–º–∏ 404 –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤ –ø–µ—Å–µ–Ω –ø—Ä–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –Ω–∞ –æ–±–ª–∞—á–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö (GitHub Codespaces, VPS)**, —ç—Ç–æ –æ–±—ã—á–Ω–æ —Å–≤—è–∑–∞–Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º IP —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã Netease.
*   **–†–µ—à–µ–Ω–∏–µ**: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `NETEASE_COOKIE`.
*   **–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å**: –í–æ–π–¥–∏—Ç–µ –≤ Netease Cloud Music –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –æ—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å F12, –≤–≤–µ–¥–∏—Ç–µ `document.cookie` –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ.
*   **–ü—Ä–∏–º–µ—Ä**:
    ```bash
    docker run -d ... -e NETEASE_COOKIE="MUSIC_U=..." ...
    ```

### –ó–∞–ø—É—Å–∫ –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ (Python)

1.  –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç.
2.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
    ```bash
    pip install -r requirements.txt
    ```
3.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
    ```bash
    # –ë–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
    python3 -m uvicorn main:app --host 0.0.0.0 --port 8080
    
    # –° –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
    API_AUTH=your_secret_key python3 -m uvicorn main:app --host 0.0.0.0 --port 8080
    ```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### 1. –ü–æ–ª—É—á–∏—Ç—å –æ–±–ª–æ–∂–∫—É `/cover`

–ü–æ–ª—É—á–∏—Ç—å –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—É—é –æ–±–ª–æ–∂–∫—É –∏–∑ Apple Music.

*   **URL**: `/cover`
*   **–ú–µ—Ç–æ–¥**: `GET` –∏–ª–∏ `POST`
*   **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
    *   `keyword`: –ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
    *   `title` + `artist`: –ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏ –∏ –∏–º—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (–†–µ–∂–∏–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –¥–ª—è –ø–æ–∏—Å–∫–∞)
    *   `format`: `redirect` (–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ) –∏–ª–∏ `json` (–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ JSON)

**–ü—Ä–∏–º–µ—Ä**:
```bash
# –°–ø–æ—Å–æ–± 1: –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
GET /cover?keyword=Thinking Out Loud

# –°–ø–æ—Å–æ–± 2: –†–∞–∑–¥–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å Audio Station –∏ —Ç.–¥.)
GET /cover?title=Thinking Out Loud&artist=Ed Sheeran
```

### 2. –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –ø–µ—Å–Ω–∏ `/lyrics`

–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç –ø–µ—Å–Ω–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ LRC.

*   **URL**: `/lyrics`
*   **–ú–µ—Ç–æ–¥**: `GET` –∏–ª–∏ `POST`
*   **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
    *   `keyword`: –ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å
    *   `title` + `artist`: –ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏ –∏ –∏–º—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (–†–µ–∂–∏–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
    *   `format`: `text` (–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç) –∏–ª–∏ `json`

**–ü—Ä–∏–º–µ—Ä**:
```bash
# –°–ø–æ—Å–æ–± 1: –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ
GET /lyrics?keyword=Thinking Out Loud

# –°–ø–æ—Å–æ–± 2: –†–∞–∑–¥–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
GET /lyrics?title=Thinking Out Loud&artist=Ed Sheeran
```

### üì± –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ò–¥–µ–∞–ª—å–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ API –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π:
*   **Format 1**: `<url>?title=<title>&artist=<artist>`
*   **Format 2**: `<url>/<artist>/<title>` (–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
*   **Synology Audio Station**: –ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–µ—Ç–æ–¥–∞ –∑–∞–ø—Ä–æ—Å–∞ POST –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

## üìù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –í–∫–ª–∞–¥

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π GPL-3.0. –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è Issues –∏ PR.

*   Original Author: [HisAtri](https://github.com/HisAtri)
*   BetterLrcApi Developer: [steely/Antigravity]
